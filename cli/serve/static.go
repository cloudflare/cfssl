package serve

import (
	"bytes"
	"compress/gzip"
	"io/ioutil"
	"net/http"
	"os"
	"path"
	"sync"
	"time"
)

type _escLocalFS struct{}

var _escLocal _escLocalFS

type _escStaticFS struct{}

var _escStatic _escStaticFS

type _escFile struct {
	compressed string
	size       int64
	local      string
	isDir      bool

	data []byte
	once sync.Once
	name string
}

func (_escLocalFS) Open(name string) (http.File, error) {
	f, present := _escData[path.Clean(name)]
	if !present {
		return nil, os.ErrNotExist
	}
	return os.Open(f.local)
}

func (_escStaticFS) prepare(name string) (*_escFile, error) {
	f, present := _escData[path.Clean(name)]
	if !present {
		return nil, os.ErrNotExist
	}
	var err error
	f.once.Do(func() {
		f.name = path.Base(name)
		if f.size == 0 {
			return
		}
		var gr *gzip.Reader
		gr, err = gzip.NewReader(bytes.NewBufferString(f.compressed))
		if err != nil {
			return
		}
		f.data, err = ioutil.ReadAll(gr)
	})
	if err != nil {
		return nil, err
	}
	return f, nil
}

func (fs _escStaticFS) Open(name string) (http.File, error) {
	f, err := fs.prepare(name)
	if err != nil {
		return nil, err
	}
	return f.File()
}

func (f *_escFile) File() (http.File, error) {
	type httpFile struct {
		*bytes.Reader
		*_escFile
	}
	return &httpFile{
		Reader:   bytes.NewReader(f.data),
		_escFile: f,
	}, nil
}

func (f *_escFile) Close() error {
	return nil
}

func (f *_escFile) Readdir(count int) ([]os.FileInfo, error) {
	return nil, nil
}

func (f *_escFile) Stat() (os.FileInfo, error) {
	return f, nil
}

func (f *_escFile) Name() string {
	return f.name
}

func (f *_escFile) Size() int64 {
	return f.size
}

func (f *_escFile) Mode() os.FileMode {
	return 0
}

func (f *_escFile) ModTime() time.Time {
	return time.Time{}
}

func (f *_escFile) IsDir() bool {
	return f.isDir
}

func (f *_escFile) Sys() interface{} {
	return f
}

// FS returns a http.Filesystem for the embedded assets. If useLocal is true,
// the filesystem's contents are instead used.
func FS(useLocal bool) http.FileSystem {
	if useLocal {
		return _escLocal
	}
	return _escStatic
}

// FSByte returns the named file from the embedded assets. If useLocal is
// true, the filesystem's contents are instead used.
func FSByte(useLocal bool, name string) ([]byte, error) {
	if useLocal {
		f, err := _escLocal.Open(name)
		if err != nil {
			return nil, err
		}
		return ioutil.ReadAll(f)
	}
	f, err := _escStatic.prepare(name)
	if err != nil {
		return nil, err
	}
	return f.data, nil
}

// FSMustByte is the same as FSByte, but panics if name is not present.
func FSMustByte(useLocal bool, name string) []byte {
	b, err := FSByte(useLocal, name)
	if err != nil {
		panic(err)
	}
	return b
}

// FSString is the string version of FSByte.
func FSString(useLocal bool, name string) (string, error) {
	b, err := FSByte(useLocal, name)
	return string(b), err
}

// FSMustString is the string version of FSMustByte.
func FSMustString(useLocal bool, name string) string {
	return string(FSMustByte(useLocal, name))
}

var _escData = map[string]*_escFile{

	"/bundle.html": {
		local: "cli/serve/static/bundle.html",
		size:  3313,
		compressed: "" +
			"\x1f\x8b\b\x00\x00\tn\x88\x00\xff\xbcW]O\xe46\x17\xbe\xe7W\xf8\xcd[)3\xd2&.K/V\x90\xc9Ea\xb9\xa8\xaaR\x89]U\x15\xda\v'v\x88\xa9cgm\a\x18\xad\xf8\xef=\xb6\x93\x8cg\x1a\x98\xbdi\x91\xc0\xf6\xf9xΧ\x8fC\U0007fadb\xcbO\u007f\xfe\xfe\x11\xb5\xb6\x13\xe5I\x11\x16X\x19\xa1\xe5\tBE\xc7" +
			",AuK\xb4av\x93|\xfet\x9d}H@\x008\x96[\xc1\xca\xcb\xeb\xdb\xdb_Q\x86~\x1e$\x15\xac\xc0\x81\xea\xf8\x82˿P\xabY\xb3I1\xae\xa9|0y-\xd4@\x1bA4\xcbk\xd5a\xf2@\x9e\xb1\xe0\x95\xc1\xf6\x89[\xcbtV)e\x8dդ\xc7g\xf9Y\xfe\x13\xae\x8d\xc13-\xef\xb8́\x92\"\xcd\xc4&5" +
			"v+\x98i\x19\xb3\xa8\a+\xcc\xd6m\xea\r{\x86\xdb!T)\xbaE\xdf\xfc\x16\xa1\x9eP\xca\xe5}fU\u007f\x8e\xce~\xec\x9f/<\xe3\xc5\xe9\xe0Q\xa9\xc0!\xf2\x93©z8I\x1eQ-\x881\x9b\x04\xb6\x15\xd1(,\x19e\r\x19\x84\x9d\x8e\r\u007ffԁ'\xc1vA\xf9\xacX+i\t\x97L\x8f\xbc}\xee\b\xe0,G" +
			"\x12 C\x0e$*M$MBR\x13\x9c\x84\xe4\x17\x98̠\x18P}u\xfe\xe9\x80\x10\xa47lrv:\xc7\xd6\x06\x11\x99\x9b\x04a\x89d|Y\xe3\xa3wr\xf4\xa7\xf2-\x90\xbb\x16Jʩ\x1fȞ2\xde\xd7~\x03\xcc\xd4D\x8eP\xb7\xb0}\x13\xa8\xc0\x838H\xc1\u07b6\xc0\x10Eh\xda7jR\xb4\xa7\x13\xab'\xf7l." +
			"\xc7\x14I{:f6\x06\xd1\xeai\xb1\xa4\x90߬\xa3\xd9\a4nT\xd3\xc0\x05\xca\xde\xc7\xf9n\x94\xee&\xf9\x99\x9a NA\xbd1Fd!\xa1\t\x94\xa2c\x874\xb8\x97\xad\x02\xc9^\x19{P R1\x81\x00|\x93P\xd5A\x84Iy\xe5WH\x9ac\xed\ts\xd9\x0fvr\xc29\x94\xb9\xb4h%\x82\x1f#\xc0\xe8\xc1t\xea" +
			"\x05\xa9Y\xab\x04\xa4gt+W\xfa>Avۃ\x94eϯ{\x04\x97\xffQAR\xaf\xfd\xba\xe4\x91a\x82\xd5\xd6[\x1f\x85G\xeb\x93\xea~è\xder%Q\xd0b\x14=\x121\x80\xf0P\xf1\xaf\x03\xb7j0I\xf9y\xde\x178\x88/c\x8c\xaa\xee\xd4\x11軛\xb0\xf9.%\b\xae\x86\xcbt\xed\x96%\x05\x180\xde\xc3\xf9" +
			"rzb5X\v\x18c\xfa++\x11\xfcf\xbd\x06\xb3z\x9b ?\x93\\\xe0\x8a\xd8s\xa4\xf9}k/\xa6,\x9b\xa1\xea\xb8\xddug\x80\x8a\uf12b\xe6\xeb\xb7\xe2x'\xbb\nhfz%aL\x1c\xed\xeb\xc9Y\xca\r\xb4\xc7\xf6\x1cI%\xd9E\xdc\xee\xedYyɴ\xe5\r\xaf\x89e\xf3\x83Ѿ\x8fd`\x90Ova\xb2\xbe" +
			"\nZ`\x10\x8c\xd4,\xa9DPdZ+mfw\x03\xc3\xff\x85\xb7EC\xc3B\x8b\x84#<)\xbcg\xf4\xb8\xe3\x0e_\x97\x85mˏ\x1e\x1c\u07b8\x16<\x00Z\x94l\x8f\xb9\xe8\xd1\x13\xd1\x12^\x9d\u007f˧?F\xf8\xe3^-OƩ\x19\nS\x83m\x8b\x8c\xaea\xfa\x1e{\xaf\x1f\xbe\x0eLo\xf1\xfb\xfc4?\x1b\x0f\xfeu" +
			"~0\xae8\x01\xaaܡ\x06\xab?\xac\xd2\xff\xc7C,]硋W\xcd kwcV\xec\x91I\xbb\x9e_l\xa7\x11Z\x01d[N\xd9j}\x11\xb1B\xb1\x17YS\xd6\x17\x99SW;\aZ\xf5\xe4\x98\x137w\xf3t5\xa70Ť\xe7\xf8\xf1\x14{\xbf\xc7\x17.}7\xf3\u007f\xb9\xbd\xf9-wU\x93\xf7\xbcٮ\xbeE\x05" +
			"\n\xc3\xf2\xdc\x1b\f{0\a\xd3b\xb5~\x17I\x85\xa1\x16\xa4\xc2~\x92\x9a\x85^\"\x059\b\xb1;%\x0fF\xc9d\x9d\x13\xf1D\xb6f\x97EJ,\xd9%\x11!\xde O\xbbK\xc7d~\x89\xb9K\xfc\xbbt\f\xf5@\xf2\xa0$!{\xb9\x9b\xf8\xaf\x03\\D\xfa/\xbb\xa8\x10\x13\xf09\xb2\x971@@\x1b4\x03\xf9\x1a\xb9\f\xa7" +
			"_v\x18/'\va\x8d\x8dp\xe0\xec^\x8b\xb0\xae\xb7\xdbծ\xe0\x91X\xceH\xdd\x1e \xbdCs6\x9720Ò\xbeg\x92\xae\x80\x06\x17\x12\x97\a\x14\xea)\xee+ƟkE\x99\xa7\xf8\x84ٖ\x9b\xbb\xb4c\xc6\xc0\xd7\x06\xf8\x0e?{\xa9Z\x1f\tzn\U00045c23\xf6\xff\xce\xc0whGB\x8f\xa0\xff\xab\xe0\x0fi~" +
			"J\xe4\xf0\x04\xb8\xf5*|\x85O\xa1\x05\xa9\xdd\f\x82\x97\xd1\u007f\xc8\xc3C\xe3\xfe\xb5\xf9;\x00\x00\xff\xff&E\xa7\x9e\xf1\f\x00\x00",
	},

	"/index.html": {
		local: "cli/serve/static/index.html",
		size:  1020,
		compressed: "" +
			"\x1f\x8b\b\x00\x00\tn\x88\x00\xff|SK\x8f\xd30\x10\xbe\xf7W\f\xb9\xf4ԘU9\xa0\xcáB\x01\x81\xc4J]\x0e\x1c\x1d\xdbm\xbc\xebږ=\x81\xae\x10\xff\x1d?\x92nڕz\xf2<\xbfy}\xa6o>\xfe\xd8<\xfc\xba\xff\x04\x1d\x1eu3\xa3\xe3#\x99hf\x00\xf4(\x91\x01\xef\x98\x0f\x12\xd7\xd5χ\xed\xe2}\xd5" +
			"̒\a\x15j\xd9l\xb6\xbb\xddwX\xc0\x8e3CI\xb1%\xafV\xe6\t:/\xf7\xeb9!\\\x98\xc7Psm{\xb1\xd7\xcc˚\xdb#a\x8f\xecD\xb4j\x03\xc1?\nQ\xfaEk-\x06\xf4̑e\xbd\xac\xdf\x11\x1e\x029\xdb\xea\xa32u\xb4\xcc\xc1K\xbd\x9e\a|\xd62tR\"\xb8XE\"\xef\xe6\xb9pv$\t\xa0" +
			"\xb5\xe2\x19\xfef\x11\xc01!\x949,к\xd5\xf2\xad;e\xf3\xbf\x94A\x86\x14J\xca\xd43\x9a\x123\x98a\xbf\x81k\x16º\x8ab\xcb<\x94g!\xe4\x9e\xf5\x1aGu\xafNR$\xe8\xaaT\xa6B\x9d\x13\xb95Ȕ\x91~\xf0]z\a\x80Ty\x12\x11c\xd8UD\xeb\x99\x11UYiE\xaa\xb2xJ\xd8\x19\x94D\xd4|" +
			"\x99\xd7\rh\xcd\\\x90c\xb3\xa3>\xad\xd6\xebI\xb910>\x93\x98|ԩ\x9a\x9b\x1c\xfai{#\xb4\xac\x13{\xaa\xe6CV&\xbd\x95\xfe.\xb3o\x80\x85ȥ\x01\xaa\xd0\xea\x06\x10%\xbd\xbeZ\xc1\x85HI\x9c\xa2\x10\xf6\xc6Mhw7\xba\x1c;\xc8\xf39\xf2\x92W\xb0I\xcc\xdd&\xe6\xce\x03\xdc\u007f\xfb\nh\xad~R\x18\x19" +
			"s7\xac\x9c\xbaf'\xe5\xcb\x10\x1d\xa2\v+BZm\x0f\xd7\xccW\x06\xbd\x15=Ot\xe4\xfb\x10\xe2\x9c)\f\x9c\r\x98\x86\x05\xeb_\x03\x1d\x14v}\x9b\xf3_\xe0Ȑ\x9e\xe6\xf1\xaa\xedQ\x825\xf0YᗾMH\x94\xb8\xb2\x84\xbc\rJ\n\xb1c\xdb\xe9\x97\xff\x0f\x00\x00\xff\xff=\x80\xa0\xd6\xfc\x03\x00\x00",
	},

	"/scan.html": {
		local: "cli/serve/static/scan.html",
		size:  3924,
		compressed: "" +
			"\x1f\x8b\b\x00\x00\tn\x88\x00\xff\xacWmo\xdb6\x10\xfe\x9e_\xc1hEe\xa3\x91\xb44\xfbP4\xb2\x06\xb4]7\f\xc3: \x1d\x86\xa1\r\x02J\xa2,\xa6\x94\xa8\x91\x94ko\xed\u007f\xdf\xf1E\xb6$\xcbv\x8b\xc6@\"\xbe\xdc=\xf7\xdc\vOT|\xfe\xea\xcd˷\u007f\xff\xf1\x13*UŒ\xb3\xb8{\x10\x9c'g\b\xc5\x15" +
			"Q\x18e%\x16\x92\xa8\x85\xf7\xe7\xdb\xd7\xc13/9\xd3;\x8a*F\x92\x97\xafon~C\x01\xba\xc9p\x1dGvM\xef2Z\u007f@\xa5 \xc5\u008f\xa2,\xaf\xefe\x981\xde\xe6\x05Â\x84\x19\xaf\"|\x8f\xd7\x11\xa3\xa9\x8c\xd4G\xaa\x14\x11Aʹ\x92J\xe0&\xba\n\xaf\xc2\x1f\xa2L\xcah\xbb\x16V\xb4\x0ea\xc5G\x82\xb0" +
			"\x85/Ն\x11Y\x12\xa2P\x03V\x88\xcaJ\xdf\x186\x1bz\x94\xf2|\x83\xfe\x83\x81\xfe58\xcfi\xbd\f\x14o\x9e\xa3\xab\xef\x9b\xf5\xb5\xd9\xf8\xac5\"\xa7\x12G\xd6\xeb\xb3X\xab\x1a\xb0\x1a\xafPư\x94\v\x0f\x86)\x16\xc8>\x82\x9c\x14\xb8e\xaa\x9b\x16tMr\r\xee%\x067\xce\xe9V1\xe3\xb5´&\xc2\xed\rw\x1d" +
			"\x80\xb6ܓ\x00\x19<\x92H\x05\xaesφԋ<\x1b\xf88\xc2[\xd0\bPMf\xf6\t0\x86\x1bI:\xb2ݼo\xade=s\x9d <z2&\xa9\xfd\xa9!\xe9\xf8\xa4m\x9d3\x12\xea\xea\xf1\x92\x17f\xd2\xe3f\xf9\r\xb5\x8f\x80I\xa8%\ae\xcb\xea\bP\x1c\xb5l\x14\x82\xc10\x8e\xc0\v[\xb0Gr\x12\x97\x97\xdd" +
			"V\x83\x97d\x9b\x0ek\xbe\xbctq\xedC\b\xfeq2\xa1\x10ݠʃg\xc8\rxQ\xc0\xd1\t\x9e\xf6\xa3]pQu\xf2z\x1c\x94\\\xd0\u007f5'\xe6!\x9a\x03H!%\vt\x1c<HFE\x06+\xc3(\xe2\x940\x04 \v\xaf\xe4Ry\xc9/\xf0\x1fB\xa4\x97\x13\x14Ӻi\xd5\xc0\x94v]pgǨ8\vv\xdc" +
			"0\x9c\x91\x923p\xdf\x19\r\xb9XzHm\x1a\x90Qd\xad\x86\xf6\xd3V)^w\x16RU#\xf8\v\x1aA+,6\x1e2G\v,3\x8e\xd5s$\xe8\xb2T\xd7\x1d\x98lӊ\xaa.\xc8\x16\xa8\x9fXM\xf7pj\x1f4!\n\xa7\x8ct\nvb\xfeCK\x12\x10\t\x92\xbb)t\"ڐ\xdc\x06O\x10\t-@z\t\xf4" +
			"=\xbd\xbb=|C\xfb\r\xae\t\v\x96\x82\xb7\x8d\xd5\xc3Y\x06\xa8\x94\xd7Zs\xeb֡\xf2휍e\x06\xb6\x15\x92\"\x83#r\xaa\xa5\xde\xff\xd3\x12\xb1\x89\x9e\x86\x97ᕛ\x98\x06zo\xe8Z\xa8d\x87j\xad>\x9a\xf9\xdf\xed\xea̟\x876C\xb3\xa2\xad3\x05|gdEj5\xdf6U-\xef\x82\x00¤j\xd4f6" +
			"\xbf\xee6\xc3%Q\xbf\u07bc\xf9}\xe6G\xb8\xa1\xd1\xea22\xd8\xe6t\xff\xa8\x8bm\xe1\xa3'\x06CO\x00`\x85\xd9l~\x81\xb6\xd6r\xac\xf0\xce\x18B\xb4@f\xed\x9d/\xdb,#\xf0*\xb8E\x8f\x1f#\xbbdy\xf8\xb7}\x05M\x82ଜ\rEz&\n\\Q\xb6\xb9\xd3\a\xe0\x02ibr\xa8\x8f\xd0\nz\xbeU\xbc\x83" +
			"\x02C\v\xe4\xc7J$\xfe\xf5@\xa8'\xf0\xc4H\xe4\x89\xf6\xad\x87\x0e3?~\x1f鍓\xaa_]\x8dcL\xe7\xb5\xf1\xa7笞C\xcbs\xdeZ\xc3cw'\b\x81\xb7\xa7D\xac\xbb}\xfc\x9e\xbf#e\x1dХ\x80\xf6\n\xb1\xb4@\xef<3\xf7n\xafG\xa2:\xe1Nt\x81\xbc\x9f9Ͻ}\xbe\xd3!\x94p\xea\xba\b." +
			"٦))\xf4=\xb4\x1d\x05\xfcC \xe9R\x9f\xc0\xf7\x91\x96M\x90\x86\x9f\xcc\x10\xdc\x12\x10a\xf0\xfa\x1c\xd2\xf9\v\x8b\x1an\x14\x0fƈ\xaca\xb3\xc2:Scj\xce\xd4װ{\x81\x1f.V\x82T|EƤ\xc0\xc2qB\x0fc\x1cZ\x97\x9c\x88\xc9!\xd3'*\x15\xb4\xf6\x0e\xaf-I\xde*\xfd\xa6\xdc֤o\x17\xfcɢ" +
			"t\xc2\xe7\x10i\xb8\xea\x90\x02n\x12\xf9\x17F{\xcfx\xdf\xfc\x9d~1\x02\x87G\xa1\x1e83\xf3}\x8d\x1d\a\xa7\x01\x19\xe7\xe9=\xc9\xe0\x05\xfe\xe9\x13\x1aoa!\xf0f\xb2\x1c&(~c\xef\xb1?ׁ,\x91^\v\xa2\x10\xad\xf5\x05x\xccZ2\xcdg\xba\x01M\xd9\xd8\x0f\xc3\xf9\t_\x0f\xa5\x04\x9a\x95!v\xb0Iw\xbfq" +
			"y\x1d\x85\xd4\xef\xbeP\x87\xa9^\xd2b3s>\x9f2\xf1e\x15k\xc8L\x14Ƥ\xbe\xb9\x9bL@\x1c<\xa7c\x94\x91'\a\xcbr?<\x13lN\x9eڱ_\x87<\x9a\x04\x1b^IpӐ:\x9f\xed\x10\x06П\xe7gc\x06;\xdb\xe6\xaa\x13§\xa5~\xbe\xb2_{\xdd\xe5\xc6J\xed\xaeQpy5\x1f\x8c𥠿" +
			"\x9e\xff\x0f\x00\x00\xff\xff٨9\xa9T\x0f\x00\x00",
	},

	"/": {
		isDir: true,
		local: "cli/serve/static",
	},
}
